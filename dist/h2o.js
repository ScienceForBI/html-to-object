"use strict";function h2o(n,e){function t(n){var f=n.indexOf("<");f&&"\n"===n.substring(0,f).replace(" ","")&&(n=n.substring(f,n.length));var u=n.substring(n.lastIndexOf(">")+1,n.length);u&&"\n"===(u=u.replace(" ",""))&&(n=n.substring(0,n.lastIndexOf(">")+1));for(var l=[],g=n;/(<([^>]+)>)/gi.test(g);)!function(){var n=g.substring(g.indexOf("<"),g.indexOf(">")+1),f=n.indexOf(" ")>1,u=f?" ":">",a=n.substring(n.indexOf("<")+1,n.indexOf(u)),h="<"+a,o="</"+a+">",d=s(o,g),c=g.indexOf(n)+n.length,x=d.length>0,O=void 0;x&&(d.length>1?d.forEach(function(n){var e=g.substring(c,n),t=s(h,e),r=s(o,e);t.length!==r.length||O||(O=n)}):O=d[0]);var v=g.indexOf(n),b=x?O+o.length:c,p=[];f&&(p=i(n.substring(n.indexOf(h)+h.length+1,n.indexOf(">"))));var m=t(g.substring(c,O)),E={node:a,attributes:p,children:m.elements,content:e.contentWhitespace?m.leftover:r(m.leftover)};l.push(E),g=g.substring(0,v)+g.substring(b,g.length)}();return{elements:l,leftover:g}}function r(n){for(var e=n;e.indexOf("\n")>-1;)e=e.replace("\n","");for(;e.indexOf(" ")>-1;)e=e.replace(" ","");if(!e)return"";var t=e.substring(0,1),r=e.substring(e.length-1,e.length);return n.substring(n.indexOf(t),n.indexOf(r)+1)}function i(n){var e=[];return n.split(" ").forEach(function(n){var t=n.split("=");e.push({name:t[0],value:t[1].replace(/"/g,"").replace(/'/g,"")})}),e}function s(n,e){for(var t=[],r=e;r.indexOf(n)>-1;)t.push(r.indexOf(n)+(e.length-r.length)),r=r.substring(r.indexOf(n)+n.length,r.length);return t}return e=e||{},t(fs.readFileSync(n,"utf8")).elements}var fs=require("fs");module.exports=h2o;